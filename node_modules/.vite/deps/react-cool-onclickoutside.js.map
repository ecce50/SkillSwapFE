{
  "version": 3,
  "sources": ["../../react-cool-onclickoutside/dist/index.esm.js"],
  "sourcesContent": ["import { useState, useRef, useCallback, useEffect } from 'react';\r\n\r\nvar canUsePassiveEvents = (function () {\r\n  if (typeof window === \"undefined\" || typeof window.addEventListener !== \"function\") return false;\r\n  var passive = false;\r\n  var options = Object.defineProperty({}, \"passive\", {\r\n    // eslint-disable-next-line getter-return\r\n    get: function get() {\r\n      passive = true;\r\n    }\r\n  });\r\n\r\n  var noop = function noop() {\r\n    return null;\r\n  };\r\n\r\n  window.addEventListener(\"test\", noop, options);\r\n  window.removeEventListener(\"test\", noop, options);\r\n  return passive;\r\n});\r\n\r\nvar DEFAULT_IGNORE_CLASS = \"ignore-onclickoutside\";\r\n\r\nvar checkClass = function checkClass(el, cl) {\r\n  var _el$classList;\r\n\r\n  return (_el$classList = el.classList) == null ? void 0 : _el$classList.contains(cl);\r\n};\r\n\r\nvar hasIgnoreClass = function hasIgnoreClass(e, ignoreClass) {\r\n  var el = e.target || e;\r\n\r\n  while (el) {\r\n    if (Array.isArray(ignoreClass)) {\r\n      // eslint-disable-next-line no-loop-func\r\n      if (ignoreClass.some(function (c) {\r\n        return checkClass(el, c);\r\n      })) return true;\r\n    } else if (checkClass(el, ignoreClass)) {\r\n      return true;\r\n    }\r\n\r\n    el = el.parentElement;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nvar clickedOnScrollbar = function clickedOnScrollbar(e) {\r\n  return document.documentElement.clientWidth <= e.clientX || document.documentElement.clientHeight <= e.clientY;\r\n};\r\n\r\nvar getEventOptions = function getEventOptions(type) {\r\n  return type.includes(\"touch\") && canUsePassiveEvents() ? {\r\n    passive: true\r\n  } : false;\r\n};\r\n\r\nvar useOnclickOutside = function useOnclickOutside(callback, _temp) {\r\n  var _ref = _temp === void 0 ? {} : _temp,\r\n      refsOpt = _ref.refs,\r\n      disabled = _ref.disabled,\r\n      _ref$eventTypes = _ref.eventTypes,\r\n      eventTypes = _ref$eventTypes === void 0 ? [\"mousedown\", \"touchstart\"] : _ref$eventTypes,\r\n      excludeScrollbar = _ref.excludeScrollbar,\r\n      _ref$ignoreClass = _ref.ignoreClass,\r\n      ignoreClass = _ref$ignoreClass === void 0 ? DEFAULT_IGNORE_CLASS : _ref$ignoreClass,\r\n      _ref$detectIFrame = _ref.detectIFrame,\r\n      detectIFrame = _ref$detectIFrame === void 0 ? true : _ref$detectIFrame;\r\n\r\n  var _useState = useState([]),\r\n      refsState = _useState[0],\r\n      setRefsState = _useState[1];\r\n\r\n  var callbackRef = useRef(callback);\r\n  callbackRef.current = callback;\r\n  var ref = useCallback(function (el) {\r\n    return setRefsState(function (prevState) {\r\n      return [].concat(prevState, [{\r\n        current: el\r\n      }]);\r\n    });\r\n  }, []);\r\n  useEffect(function () {\r\n    if (!(refsOpt != null && refsOpt.length) && !refsState.length) return;\r\n\r\n    var getEls = function getEls() {\r\n      var els = [];\r\n      (refsOpt || refsState).forEach(function (_ref2) {\r\n        var current = _ref2.current;\r\n        return current && els.push(current);\r\n      });\r\n      return els;\r\n    };\r\n\r\n    var handler = function handler(e) {\r\n      if (!hasIgnoreClass(e, ignoreClass) && !(excludeScrollbar && clickedOnScrollbar(e)) && getEls().every(function (el) {\r\n        return !el.contains(e.target);\r\n      })) callbackRef.current(e);\r\n    };\r\n\r\n    var blurHandler = function blurHandler(e) {\r\n      return (// On firefox the iframe becomes document.activeElement in the next event loop\r\n        setTimeout(function () {\r\n          var _document = document,\r\n              activeElement = _document.activeElement;\r\n          if ((activeElement == null ? void 0 : activeElement.tagName) === \"IFRAME\" && !hasIgnoreClass(activeElement, ignoreClass) && !getEls().includes(activeElement)) callbackRef.current(e);\r\n        }, 0)\r\n      );\r\n    };\r\n\r\n    var removeEventListener = function removeEventListener() {\r\n      eventTypes.forEach(function (type) {\r\n        return (// @ts-expect-error\r\n          document.removeEventListener(type, handler, getEventOptions(type))\r\n        );\r\n      });\r\n      if (detectIFrame) window.removeEventListener(\"blur\", blurHandler);\r\n    };\r\n\r\n    if (disabled) {\r\n      removeEventListener();\r\n      return;\r\n    }\r\n\r\n    eventTypes.forEach(function (type) {\r\n      return document.addEventListener(type, handler, getEventOptions(type));\r\n    });\r\n    if (detectIFrame) window.addEventListener(\"blur\", blurHandler); // eslint-disable-next-line consistent-return\r\n\r\n    return function () {\r\n      return removeEventListener();\r\n    };\r\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  [refsState, ignoreClass, excludeScrollbar, disabled, detectIFrame, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  JSON.stringify(eventTypes)]);\r\n  return ref;\r\n};\r\n\r\nexport default useOnclickOutside;\r\nexport { DEFAULT_IGNORE_CLASS };\r\n"],
  "mappings": "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",
  "names": ["noop", "checkClass", "hasIgnoreClass", "clickedOnScrollbar", "getEventOptions", "useOnclickOutside", "getEls", "handler", "blurHandler", "removeEventListener"]
}
