{
  "version": 3,
  "sources": ["../../react-cool-onclickoutside/dist/index.esm.js"],
  "sourcesContent": ["import { useState, useRef, useCallback, useEffect } from 'react';\n\nvar canUsePassiveEvents = (function () {\n  if (typeof window === \"undefined\" || typeof window.addEventListener !== \"function\") return false;\n  var passive = false;\n  var options = Object.defineProperty({}, \"passive\", {\n    // eslint-disable-next-line getter-return\n    get: function get() {\n      passive = true;\n    }\n  });\n\n  var noop = function noop() {\n    return null;\n  };\n\n  window.addEventListener(\"test\", noop, options);\n  window.removeEventListener(\"test\", noop, options);\n  return passive;\n});\n\nvar DEFAULT_IGNORE_CLASS = \"ignore-onclickoutside\";\n\nvar checkClass = function checkClass(el, cl) {\n  var _el$classList;\n\n  return (_el$classList = el.classList) == null ? void 0 : _el$classList.contains(cl);\n};\n\nvar hasIgnoreClass = function hasIgnoreClass(e, ignoreClass) {\n  var el = e.target || e;\n\n  while (el) {\n    if (Array.isArray(ignoreClass)) {\n      // eslint-disable-next-line no-loop-func\n      if (ignoreClass.some(function (c) {\n        return checkClass(el, c);\n      })) return true;\n    } else if (checkClass(el, ignoreClass)) {\n      return true;\n    }\n\n    el = el.parentElement;\n  }\n\n  return false;\n};\n\nvar clickedOnScrollbar = function clickedOnScrollbar(e) {\n  return document.documentElement.clientWidth <= e.clientX || document.documentElement.clientHeight <= e.clientY;\n};\n\nvar getEventOptions = function getEventOptions(type) {\n  return type.includes(\"touch\") && canUsePassiveEvents() ? {\n    passive: true\n  } : false;\n};\n\nvar useOnclickOutside = function useOnclickOutside(callback, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      refsOpt = _ref.refs,\n      disabled = _ref.disabled,\n      _ref$eventTypes = _ref.eventTypes,\n      eventTypes = _ref$eventTypes === void 0 ? [\"mousedown\", \"touchstart\"] : _ref$eventTypes,\n      excludeScrollbar = _ref.excludeScrollbar,\n      _ref$ignoreClass = _ref.ignoreClass,\n      ignoreClass = _ref$ignoreClass === void 0 ? DEFAULT_IGNORE_CLASS : _ref$ignoreClass,\n      _ref$detectIFrame = _ref.detectIFrame,\n      detectIFrame = _ref$detectIFrame === void 0 ? true : _ref$detectIFrame;\n\n  var _useState = useState([]),\n      refsState = _useState[0],\n      setRefsState = _useState[1];\n\n  var callbackRef = useRef(callback);\n  callbackRef.current = callback;\n  var ref = useCallback(function (el) {\n    return setRefsState(function (prevState) {\n      return [].concat(prevState, [{\n        current: el\n      }]);\n    });\n  }, []);\n  useEffect(function () {\n    if (!(refsOpt != null && refsOpt.length) && !refsState.length) return;\n\n    var getEls = function getEls() {\n      var els = [];\n      (refsOpt || refsState).forEach(function (_ref2) {\n        var current = _ref2.current;\n        return current && els.push(current);\n      });\n      return els;\n    };\n\n    var handler = function handler(e) {\n      if (!hasIgnoreClass(e, ignoreClass) && !(excludeScrollbar && clickedOnScrollbar(e)) && getEls().every(function (el) {\n        return !el.contains(e.target);\n      })) callbackRef.current(e);\n    };\n\n    var blurHandler = function blurHandler(e) {\n      return (// On firefox the iframe becomes document.activeElement in the next event loop\n        setTimeout(function () {\n          var _document = document,\n              activeElement = _document.activeElement;\n          if ((activeElement == null ? void 0 : activeElement.tagName) === \"IFRAME\" && !hasIgnoreClass(activeElement, ignoreClass) && !getEls().includes(activeElement)) callbackRef.current(e);\n        }, 0)\n      );\n    };\n\n    var removeEventListener = function removeEventListener() {\n      eventTypes.forEach(function (type) {\n        return (// @ts-expect-error\n          document.removeEventListener(type, handler, getEventOptions(type))\n        );\n      });\n      if (detectIFrame) window.removeEventListener(\"blur\", blurHandler);\n    };\n\n    if (disabled) {\n      removeEventListener();\n      return;\n    }\n\n    eventTypes.forEach(function (type) {\n      return document.addEventListener(type, handler, getEventOptions(type));\n    });\n    if (detectIFrame) window.addEventListener(\"blur\", blurHandler); // eslint-disable-next-line consistent-return\n\n    return function () {\n      return removeEventListener();\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [refsState, ignoreClass, excludeScrollbar, disabled, detectIFrame, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(eventTypes)]);\n  return ref;\n};\n\nexport default useOnclickOutside;\nexport { DEFAULT_IGNORE_CLASS };\n"],
  "mappings": "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",
  "names": ["noop", "checkClass", "hasIgnoreClass", "clickedOnScrollbar", "getEventOptions", "useOnclickOutside", "getEls", "handler", "blurHandler", "removeEventListener"]
}
